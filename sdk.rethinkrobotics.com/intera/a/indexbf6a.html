<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from sdk.rethinkrobotics.com/intera/a/index.php?title=MoveIt_Tutorial&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 18 Oct 2019 05:15:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for MoveIt Tutorial - Intera SDK</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"MoveIt_Tutorial","wgTitle":"MoveIt Tutorial","wgCurRevisionId":1307,"wgRevisionId":0,"wgArticleId":97,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"MoveIt_Tutorial","wgRelevantArticleId":97,"wgRequestId":"f4c9a8f5627930642709a3d1","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.cavendishrr":"ready"});mw.loader.implement("user.tokens@09sx7ae",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","cavendishrr.html","app.js"]);});</script>
<link rel="stylesheet" href="loadba34.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.cavendishrr&amp;only=styles&amp;skin=cavendishrr"/>
<script async="" src="loada191.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishrr"></script>
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,300italic,400,500,500italic,700|Roboto+Condensed:300,700|Open+Sans:300"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load8ac3.css?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishrr"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="http://sdk.rethinkrobotics.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://sdk.rethinkrobotics.com/intera/a/opensearch_desc.php" title="Intera SDK (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/intera/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Intera SDK Atom feed" href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/intera/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=CavendishRR&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-MoveIt_Tutorial rootpage-MoveIt_Tutorial skin-cavendishrr action-edit"><div id="container"><!-- start fragment header -->
    <div id="header" class="noprint">
            <a name="top" id="contentTop"></a>

            <!-- Logo + site name -->
            <h1>
                <a href="http://sdk.rethinkrobotics.com/intera/Main_Page" style="text-indent: 2em; width: 123px; height: 69px; background: transparent url(http://sdk.rethinkrobotics.com/intera/a/skins/CavendishRR/styles/images/header_logo.png) no-repeat scroll;" title="Visit the main page">&nbsp;</a>            </h1>

            <div id="rr_ActionWrap">
                <!-- Account action links -->
                <div id="accountActions"><a href="http://sdk-accounts.rethinkrobotics.com/public/NewUser">Create account</a><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Special:UserLogin&amp;returnto=MoveIt+Tutorial&amp;returntoquery=action%3Dedit">Log in</a></div>                <!-- Search box -->
                        <form action="http://sdk.rethinkrobotics.com/intera/a/index.php" id="searchform">
            <label for="searchInput">Search</label>
            <input type='hidden' name="title" value="Special:Search"/>
            <input type="search" name="search" placeholder="Search Intera SDK" title="Search Intera SDK [f]" accesskey="f" id="searchInput"/>
                            <button type="submit" name="button">Search</button>        </form>
                </div><!--/#rr_ActionWrap-->
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <div class="l-container">
        <!-- Content action buttons -->
                <ul class="m-cactions">
            <li><a href="#">More</a>
                <ul>
                <li id="ca-viewsource" class="selected"><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=MoveIt_Tutorial&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=MoveIt_Tutorial&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>                </ul>
            </li>

            <li id="ca-nstab-main" class="selected"><a href="http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial" title="View the content page [c]" accesskey="c">Page</a></li>        </ul>
        
        <h1 lang="en">
            <span dir="auto">View source for MoveIt Tutorial</span>
        </h1>
    </div><!--/.l-container-->
</div><!--/#firstHeadingDiv-->
<!-- end fragment firstHeader -->
<div class="bg-wrapper clearfix">
    <!-- start fragment sidebar -->
    <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
        <ul id="nav">
                  <li>
          <span>Installation &amp; Configuration</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Robot-Setup"><a href="http://sdk.rethinkrobotics.com/intera/Robot_Setup">Robot Setup</a></li>                                    <li id="n-Workstation-Setup"><a href="http://sdk.rethinkrobotics.com/intera/Workstation_Setup">Workstation Setup</a></li>                                    <li id="n-Networking"><a href="http://sdk.rethinkrobotics.com/intera/Networking">Networking</a></li>                                    <li id="n-Hello-Robot.21"><a href="http://sdk.rethinkrobotics.com/intera/Hello_Robot">Hello Robot!</a></li>                                    <li id="n-Hardware-Components"><a href="http://sdk.rethinkrobotics.com/intera/Hardware_Components">Hardware Components</a></li>                                    <li id="n-SDK-Workstation-Requirements"><a href="http://sdk.rethinkrobotics.com/intera/System_requirements">SDK Workstation Requirements</a></li>                                    <li id="n-Robot-Workspace-Guidelines"><a href="http://sdk.rethinkrobotics.com/intera/Workspace_Guidelines">Robot Workspace Guidelines</a></li>                                    <li id="n-Field-Service-Menu-.28FSM.29"><a href="http://sdk.rethinkrobotics.com/intera/Field_Service_Menu_(FSM)">Field Service Menu (FSM)</a></li>                                    <li id="n-Time-and-NTP"><a href="http://sdk.rethinkrobotics.com/intera/Time_and_NTP">Time and NTP</a></li>                                    <li id="n-SDK-Software-Update"><a href="http://sdk.rethinkrobotics.com/intera/Software_Update">SDK Software Update</a></li>                                    <li id="n-SDK-Release-Notes"><a href="http://sdk.rethinkrobotics.com/intera/Release-Changes">SDK Release Notes</a></li>                            </ul>
                </li>
          <li>
          <span>Concepts</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-SDK-Robot-Workstation-Overview"><a href="http://sdk.rethinkrobotics.com/intera/SDK_System_Overview">SDK Robot-Workstation Overview</a></li>                                    <li id="n-E-STOP-and-Enable-Robot"><a href="http://sdk.rethinkrobotics.com/intera/E-STOP_and_Enable_Robot">E-STOP and Enable Robot</a></li>                                    <li id="n-Arm-Calibration"><a href="http://sdk.rethinkrobotics.com/intera/Arm_Calibration">Arm Calibration</a></li>                                    <li id="n-Arm-Control-Systems"><a href="http://sdk.rethinkrobotics.com/intera/Arm_Control_Systems">Arm Control Systems</a></li>                                    <li id="n-API-Reference"><a href="http://sdk.rethinkrobotics.com/intera/API_Reference">API Reference</a></li>                            </ul>
                </li>
          <li>
          <span>Tutorials</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Interaction-Control-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/Interaction_Control_Tutorial">Interaction Control Tutorial</a></li>                                    <li id="n-Motion-Interface-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/Motion_Interface_Tutorial">Motion Interface Tutorial</a></li>                                    <li id="n-MoveIt.21-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial">MoveIt! Tutorial</a></li>                                    <li id="n-Gazebo-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/Gazebo_Tutorial">Gazebo Tutorial</a></li>                            </ul>
                </li>
          <li>
          <span>Code Examples</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Running-Examples-Overview"><a href="http://sdk.rethinkrobotics.com/intera/Running_Examples_Overview">Running Examples Overview</a></li>                                    <li id="n-Camera-Image-Display-Example"><a href="http://sdk.rethinkrobotics.com/intera/Camera_Image_Display_Example">Camera Image Display Example</a></li>                                    <li id="n-Gripper-Example"><a href="http://sdk.rethinkrobotics.com/intera/Gripper_Example">Gripper Example</a></li>                                    <li id="n-Gripper-Cuff-Control-Example"><a href="http://sdk.rethinkrobotics.com/intera/Gripper_Cuff_Control_Example">Gripper Cuff Control Example</a></li>                                    <li id="n-Head-Display-Image-Example"><a href="http://sdk.rethinkrobotics.com/intera/Head_Display_Image_Example">Head Display Image Example</a></li>                                    <li id="n-Head-Movement-Example"><a href="http://sdk.rethinkrobotics.com/intera/Head_Movement_Example">Head Movement Example</a></li>                                    <li id="n-Lights-Blinking-Example"><a href="http://sdk.rethinkrobotics.com/intera/Lights_Blinking_Example">Lights Blinking Example</a></li>                                    <li id="n-IK-Service-Example"><a href="http://sdk.rethinkrobotics.com/intera/IK_Service_Example">IK Service Example</a></li>                                    <li id="n-Joint-Position-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Position_Example">Joint Position Example</a></li>                                    <li id="n-Joint-Position-Waypoint-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Position_Waypoint_Example">Joint Position Waypoint Example</a></li>                                    <li id="n-Joint-Torque-Springs-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Torque_Springs_Example">Joint Torque Springs Example</a></li>                                    <li id="n-Joint-Trajectory-Playback-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Trajectory_Playback_Example">Joint Trajectory Playback Example</a></li>                                    <li id="n-Set-Interaction-Options-Example"><a href="http://sdk.rethinkrobotics.com/intera/Set_Interaction_Options_Example">Set Interaction Options Example</a></li>                                    <li id="n-Motion-Interface-Go-To-Joint-Angles"><a href="http://sdk.rethinkrobotics.com/intera/Go_To_Joint_Angles_Example">Motion Interface Go-To-Joint Angles</a></li>                            </ul>
                </li>
          <li>
          <span>Support</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-User-Forum"><a href="http://sdk.rethinkrobotics.com/intera/User_Forum">User Forum</a></li>                            </ul>
                </li>
          <li>
          <span>Tools</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-All-Pages"><a href="http://sdk.rethinkrobotics.com/intera/Special:AllPages">All Pages</a></li>                                    <li id="n-Print"><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=MoveIt_Tutorial&amp;printable=yes" rel="nofollow">Print</a></li>                                    <li id="n-Upload-File"><a href="http://sdk.rethinkrobotics.com/intera/Special:Upload">Upload File</a></li>                                    <li id="n-What-Links-Here.3F"><a href="http://sdk.rethinkrobotics.com/intera/Special:WhatLinksHere">What Links Here?</a></li>                            </ul>
                </li>
            </ul> <!-- /nav -->
    </div> <!-- /side -->
<!-- end fragment sidebar -->
    <div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
        
        <div id="bodyContent" class="mw-body">

            <div id="contentSub">
                ← <a href="http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial" title="MoveIt Tutorial">MoveIt Tutorial</a>            </div>

            
            
                            <div id="jump-to-nav" class="mw-jump">
                    Jump to:                    <a href="#column-one">navigation</a>
                    ,                     <a href="#searchInput">search</a>
                </div>
            
            <!-- start content -->
            <div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Intera_SDK:Users&amp;action=edit&amp;redlink=1" class="new" title="Intera SDK:Users (page does not exist)">Users</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="en" dir="ltr" name="wpTextbox1">__NOTOC__
&lt;div class="title-block">

&lt;span style="font-size:120%;">'''This tutorial describes how to use Sawyer with MoveIt! the standard ROS motion planning framework.'''&lt;/span>

&lt;/div>

&lt;div class="content-block">

[[File:moveit_logo.png|MoveIt! Logo]]&lt;br />

'''[http://moveit.ros.org/ MoveIt! Please visit the MoveIt! homepage for more information]'''

&lt;/div>

{{TOClimit|limit=2}}

&lt;div class="content-block">

= Installation/Prerequisites =

== Installing MoveIt ==

&lt;tabs>
&lt;tab name="ROS Kinetic">

&lt;source lang="bash">
    = Make sure to update your sources =
    $ sudo apt-get update
    = Install MoveIt! =
    $ sudo apt-get install ros-kinetic-moveit
&lt;/source>
&lt;/tab>
&lt;tab name="ROS Indigo">

&lt;source lang="bash">
    = Make sure to update your sources =
    $ sudo apt-get update
    = Install MoveIt! =
    $ sudo apt-get install ros-indigo-moveit
&lt;/source>
&lt;/tab>
&lt;/tabs>

== Installing and building Sawyer MoveIt Repo ==
Run &lt;code>catkin_make&lt;/code> to make the new Sawyer MoveIt! additions to your ROS workspace
&lt;source lang="bash">
    $ cd ~/ros_ws/
    $ ./intera.sh
    $ cd ~/ros_ws/src
    $ wstool merge https://raw.githubusercontent.com/RethinkRobotics/sawyer_moveit/master/sawyer_moveit.rosinstall
    $ wstool update
    $ cd ~/ros_ws/
    $ catkin_make
    
&lt;/source>

&lt;/div>

&lt;div class="content-block">

= Overview =
MoveIt! motion planning framework provides capabilities including Kinematics (IK, FK, Jacobian), Motion Planning (OMPL, SBPL, CHOMP) integrated as MoveIt! plugins, Environment Representation (robot representation, environment representation, collision checking, contraint evaluation), execution using move_groups, benchmarking, warehouse database for storage (scenes, robot states, motion plans), a C++/Python API and more!

Sawyer now supports using MoveIt! through the addition of the configurable [[API Reference#joint-trajectory-action|joint trajectory action server]], and hosting of the necessary MoveIt! configuration files on [https://github.com/RethinkRobotics/sawyer_moveit RethinkRobotics/sawyer_moveit].

This tutorial will focus on the MoveIt! Rviz plugin as an introduction to some of the capabilities of MoveIt!


==Sawyer Planning Groups ==
Describes the joints considered during motion planning. These are specified in the SRDF for Sawyer. Sawyer's SRDF includes planning groups, additional collision checking information, and default configurations. These groups are generated dynamically via Xacro

'''''Planning Group'''''
* '''right_arm'''
** '''chain''' base -> right_gripper
*** right_j0
*** right_j1
*** right_j2
*** right_j3
*** right_j4
*** right_j5
*** right_j6
*** right_hand
*** right_gripper
* '''right_hand'''
** right_hand
** right_gripper

The SRDF is generated dynamically at runtime and then loaded to the param server under &lt;code>robot_semantic_description&lt;/code>. You can view the top level SRDF Xacro file under sawyer_moveit_config/config/sawyer.srdf.xacro


&lt;/div>

&lt;div class="content-block">

= Video =
Coming Soon!
&lt;!-- {{#ev:youtube|1Zdkwym42P4|500}} -->

&lt;/div>

&lt;div class="content-block">

= Tutorial =
Verify that the robot is enabled from an [[SDK Shell|SDK terminal session]], ex:
&lt;source lang="bash">
    $ rosrun intera_interface enable_robot.py -e
&lt;/source>
Start the joint trajectory controller, ex:
&lt;source lang="bash">
 $ rosrun intera_interface joint_trajectory_action_server.py
&lt;/source>

In another [[SDK Shell|SDK terminal session]], Launch the [http://moveit.ros.org/documentation/plugins rviz MoveIt! plugin], ex:

&lt;tabs>
&lt;tab name="Without Electric Grippers">
If you do not have a gripper plugged into the robot, use the following to bringup MoveIt:
&lt;source lang="bash">
    $ roslaunch sawyer_moveit_config sawyer_moveit.launch
&lt;/source>
This version will not add electric grippers collision shapes, and MoveIt may not give a valid trajectory if you have electric grippers plugged in.
&lt;/tab>
&lt;tab name="With Electric Gripper(s)">
If you have the Rethink Electric grippers plugged into your robot, use the following to bringup MoveIt:
&lt;source lang="bash">
    $ roslaunch sawyer_moveit_config sawyer_moveit.launch electric_gripper:=true
&lt;/source>
This version will add the gripper linkages to the collision shapes.
&lt;/tab>
&lt;/tabs>


The Rviz gui will then open showing Sawyer with [http://www.ros.org/wiki/interactive_markers interactive markers]:&lt;br />

[[File:sawyer_moveit_start_1.png|800px]]


== Executing a simple motion plan ==
You will see the goal state for the motion planning, shown for each plan group in Orange.

You can then move Sawyer's arms to a planning goal by clicking and dragging the arrows (Cartesian) and rings (orientation) of the interactive markers. Kinematic/collision checking is happening simultaneously and will not allow self collisions (links will turn red), or goal states out of the reachable workspace (inability to drag and endpoint/gripper will turn red). &lt;br />

[[File:sawyer_moveit_2_1.png|800px]]

With a valid goal state, and assuming that the robot is in a valid start state, you are now ready to plan and execute a trajectory from your start state to the goal state.

In the bottom left you will the motion planning frame with a tabbed interface to access different tools of the MoveIt! Rviz visualizer. 

Please select the ''Planning'' tab in this frame. &lt;br />

[[File:sawyer_moveit_tabs_planning.png|600px]]

Click the ''Plan'' tab under the ''Commands'' field to plan a trajectory from your start state to the goal. You will see this solution executed in Rviz. When you are happy with the planned trajectory, click ''Execute'' to run this trajectory on the robot.

Alternatively, if you would like to immediately execute the first plan from your current position to the goal position use the ''Plan and Execute'' button.

Another useful field in the ''Planning'' tab is ''Query''. You can specify here _Select Start State_ choosing &lt;code>&lt;current>&lt;/code>, &lt;code>&lt;random>&lt;/code>, and &lt;code>&lt;same as goal>&lt;/code>, choosing these options with the _Update_ button. Also, You may ''Select Goal State'' by clicking that button. Here again you can choose &lt;code>&lt;current>&lt;/code>, &lt;code>&lt;random>&lt;/code>, and &lt;code>&lt;same as goal>&lt;/code> for the Goal State.

'''Note:''' It is dangerous to plan from a start state other than your current joint positions. Please update the ''Select Start State_ option under the '''Query''' field to reflect your current position before planning. This can be done by clicking the _Select Start State:_ text, from the drop down menu select &lt;code>&lt;current>&lt;/code>, click ''Update'' to complete this step. You will now be planning from your current position as the start state.

After trajectory execution you will see Sawyer has achieved your specified Goal. &lt;br />

[[File:sawyer_moveit_done_1.png|800px]]


== Introducing an environment representation for planning ==

Select the ''Scene Object'' tab from the Motion Planning frame.

[[File:sawyer_moveit_tabs_scene_objects.png|600px]]

We will now create a scene object in a text file to be imported into our environment.
&lt;source lang="bash">
 $ roscd sawyer_moveit_config
 $ mkdir sawyer_scenes
 $ gedit sawyer_scenes/sawyer_pillar.scene
&lt;/source>

Copy in the following scene describing a pillar
&lt;source lang="bash">
 pillar
 * pillar
 1
 box
 0.2 0.2 1
 0.6 0.15 0
 0 0 0 1
 0 0 0 0
 .
&lt;/source>
Save and exit.

You can now import this scene from the '''Scene Geometry''' field selecting ''Import From Text''

[[File:sawyer_moveit_tabs_context.png|600px]]

Navigating to select &lt;code>sawyer_moveit_config/sawyer_scenes/sawyer_pillar.scene&lt;/code>

After opening this scene you will now see the pillar inserted into your environment.

[[File:sawyer_moveit_pillar.png|800px]]

'''Important:''' You must publish your current scene so that MoveIt! knows that it will need to plan around your modified environment. Do so by selecting the ''Context_ tab from the Motion Planning frame. Under this tab you must click the _Publish Current Scene'' Button under the '''Planning Library''' field.

[[File:sawyer_moveit_pubscene.png|600px]]

Similar to our previous planning we can now drag our interactive markers moving the goal state to a location on the opposite side of the pillar.

[[File:sawyer_moveit_pillar_plan.png|800px]]

Selecting the ''Planning'' tab in the motion planning frame you can now plan a new trajectory that will avoid collision with your environment object (the pillar). The shell in which you launched sawyer_moveit.launch will provide information regarding which planner will be used, how long it took to find a solution, path simplification/smoothing time, and more. This will also display if your planner was unsuccessful in finding an allowable solution. This is often caused by collision with the environment during testing of the execution or invalid start/goal states. In very constrained or difficult motions, you may have to plan several times to find an acceptable solution for execution. 

Upon execution the robot will avoid this 'virtual' object tracking the commanded trajectory.

[[File:sawyer_moveit_pillar_done.png|800px]]

That's it, you have successfully commanded Sawyer using MoveIt!

=== Programmatic interaction for planning ===

There is much more information, tutorials, API documentation and more on [http://docs.ros.org/kinetic/api/moveit_tutorials/html/ moveit.ros.org].

[http://docs.ros.org/kinetic/api/moveit_tutorials/html/doc/pr2_tutorials/planning/src/doc/move_group_interface_tutorial.html C++ Tutorial]

[http://docs.ros.org/kinetic/api/moveit_tutorials/html/doc/pr2_tutorials/planning/scripts/doc/move_group_python_interface_tutorial.html Python Tutorial]

[http://moveit.ros.org/code-api/ MoveIt! Code API]

&lt;/div>

&lt;div class="content-block">
&lt;!-- == Using Depth Sensors with Sawyer and MoveIt! ==

Please see the page on [http://sdk.rethinkrobotics.com/wiki/Kinect_basics Depth Sensor Setup and MoveIt Integration]

&lt;/div>

&lt;div class="content-block">
-->
&lt;!-- == IKFast ==

[[#ikfast IKFast]] provides analytical closed-form solutions for manipulator inverse kinematics. Part of the [http://openrave.org/ OpenRAVE] robot architecture/software framework, IKFast has been used to provide closed-form solutions for Sawyer's inverse kinematics.

Advantages include '''order of magnitude''' faster IK solutions and the ability explore the manipulator's null space!

==== Using Sawyer's MoveIt! IKFast plugins ====

In the sawyer_moveit_config package - modify the kinematics.yaml file to specify the use of the IKFast plugins.
&lt;source lang="bash">
 rosed sawyer_moveit_config kinematics.yaml
&lt;/source>
You can now uncomment the use of the IKFastKinematicsPlugin, commenting out the default KDL solver.

The result should look like so:
&lt;code>
  right_arm:
  # kinematics_solver: kdl_kinematics_plugin/KDLKinematicsPlugin
  # uncomment to use ikfast kinematics plugin
  kinematics_solver: sawyer_right_arm_kinematics/IKFastKinematicsPlugin
  kinematics_solver_attempts: 3
  kinematics_solver_search_resolution: 0.005
  kinematics_solver_timeout: 0.005
&lt;/code>

You will now need to recompile and install the IKFast plugins.
&lt;source lang="bash">
   catkin_make
   catkin_make install --pkg sawyer_ikfast_right_arm_plugin
&lt;/source>

That's it! MoveIt! will now be using IKFast as it's kinematics solver!

Please try it out following the [[MoveIt Tutorial#tutorial|above tutorial]].

&lt;/div>

&lt;div class="content-block">
-->
= Interfaces =


== ROS APIs ==
''See the [[API Reference#arm-joints|API Reference]] page for details.''  
* Joint Trajectory Action Server - /robot/limb/right/follow_joint_trajectory [control_msgs/FollowJointTrajectoryAction]


== intera_interface APIs ==
* JointTrajectoryActionServer class: &lt;code>joint_trajectory_action_server.py&lt;/code>
Also see the [https://rethinkrobotics.github.io/intera_sdk_docs/ Full intera_interface API docs for more details]

&lt;/div>

&lt;div class="content-block">

= Related Examples/Tutorials =
* [[Joint Trajectory Playback Example|Joint Trajectory Playback Example]]

&lt;/div>

&lt;div class="content-block">

= Troubleshooting =

== The arm is not executing the trajectory ==
Verify that the robot is enabled:

&lt;code>rosrun intera_interface enable_robot.py -e&lt;/code>

Verify that the trajectory controller has been started:

&lt;code>rosrun intera_interface trajectory_controller.py&lt;/code>


== Arm not executing plan; "Unable to identify any set of controllers" ==
''Problem Description:'' 
&lt;blockquote>
 Pressed plan, solution was found and a trajectory execution service request was recieved after which I got the error:&lt;br />
 Unable to identify any set of controllers that can actuate the specified joints: [right_j0 right_j1 right_j2 right_j3 right_j4 right_j5 right_j6 ]&lt;br />
 After which nothing occurred.&lt;br />
&lt;/blockquote>

If you see the following warning error in the terminal output when roslaunch-ing sawyer_moveit.launch:  &lt;br />
&lt;code>
[FATAL] [1372432489.342541284]: Parameter '~moveit_controller_manager' not specified. This is needed to identify the plugin to use for interacting with controllers. No paths can be executed.
&lt;/code>&lt;br />
This indicates you need to make sure you have the appropriate controller manager plugins installed.  Make sure to follow the Sawyer MoveIt! [[#installation/prerequisites|Installation]] instructions and install the required Debian packages for both moveit-full and any required plugins.

&lt;/div>
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Template used on this page:
</p></div><ul>
<li><a href="http://sdk.rethinkrobotics.com/intera/Template:TOClimit" title="Template:TOClimit">Template:TOClimit</a> (<a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Template:TOClimit&amp;action=edit" title="Template:TOClimit">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial" title="MoveIt Tutorial">MoveIt Tutorial</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial">http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial</a>"</div>

            <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>            <!-- end content -->

                        <div class="visualClear"></div>
        </div><!--/#bodyContent-->
    </div> <!-- /mainContent -->
</div><!--/.bg-wrapper
<!-- end fragment mainContent --></div><!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->        <div id="footer" role="contentinfo">
                <div id="f-poweredbyico">
                            <a href="http://www.mediawiki.org/"><img src="http://sdk.rethinkrobotics.com/intera/a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/intera/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /intera/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>                    </div>
            <ul id="f-list">
                            <li id="copywrite_notice">&copy; 2019 Rethink Robotics. All rights reserved.</li>
                            <li id="special_pages"><a href="http://sdk.rethinkrobotics.com/intera/⧼specialPagePage⧽" title="⧼specialPagePage⧽">Special page</a></li>
                            <li id="privacy"><a href="http://sdk.rethinkrobotics.com/intera/Intera_SDK:Privacy_policy" title="Intera SDK:Privacy policy">Privacy policy</a></li>
                            <li id="about"><a href="http://sdk.rethinkrobotics.com/intera/Intera_SDK:About" title="Intera SDK:About">About Intera SDK</a></li>
                            <li id="disclaimer"><a href="http://sdk.rethinkrobotics.com/intera/Intera_SDK:General_disclaimer" title="Intera SDK:General disclaimer">Disclaimers</a></li>
                    </ul><!--/#f-list-->
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":11584});});</script></body>
<!-- Mirrored from sdk.rethinkrobotics.com/intera/a/index.php?title=MoveIt_Tutorial&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 18 Oct 2019 05:15:42 GMT -->
</html>