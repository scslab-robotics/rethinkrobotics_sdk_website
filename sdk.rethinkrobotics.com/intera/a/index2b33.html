<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&oldid=1448 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 18 Oct 2019 05:15:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Interaction Control Tutorial - Intera SDK</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Interaction_Control_Tutorial","wgTitle":"Interaction Control Tutorial","wgCurRevisionId":1448,"wgRevisionId":1448,"wgArticleId":190,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Interaction_Control_Tutorial","wgRelevantArticleId":190,"wgRequestId":"9546f69b25a8217f1bf185bd","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.cavendishrr":"ready"});mw.loader.implement("user.tokens@09sx7ae",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","cavendishrr.html","app.js"]);});</script>
<link rel="stylesheet" href="load8c61.css?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.cavendishrr&amp;only=styles&amp;skin=cavendishrr"/>
<script async="" src="loada191.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishrr"></script>
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,300italic,400,500,500italic,700|Roboto+Condensed:300,700|Open+Sans:300"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load8ac3.css?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishrr"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="http://sdk.rethinkrobotics.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://sdk.rethinkrobotics.com/intera/a/opensearch_desc.php" title="Intera SDK (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/intera/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Intera SDK Atom feed" href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/intera/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=CavendishRR&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Interaction_Control_Tutorial rootpage-Interaction_Control_Tutorial skin-cavendishrr action-view"><div id="container"><!-- start fragment header -->
    <div id="header" class="noprint">
            <a name="top" id="contentTop"></a>

            <!-- Logo + site name -->
            <h1>
                <a href="http://sdk.rethinkrobotics.com/intera/Main_Page" style="text-indent: 2em; width: 123px; height: 69px; background: transparent url(http://sdk.rethinkrobotics.com/intera/a/skins/CavendishRR/styles/images/header_logo.png) no-repeat scroll;" title="Visit the main page">&nbsp;</a>            </h1>

            <div id="rr_ActionWrap">
                <!-- Account action links -->
                <div id="accountActions"><a href="http://sdk-accounts.rethinkrobotics.com/public/NewUser">Create account</a><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Special:UserLogin&amp;returnto=Interaction+Control+Tutorial&amp;returntoquery=oldid%3D1448">Log in</a></div>                <!-- Search box -->
                        <form action="http://sdk.rethinkrobotics.com/intera/a/index.php" id="searchform">
            <label for="searchInput">Search</label>
            <input type='hidden' name="title" value="Special:Search"/>
            <input type="search" name="search" placeholder="Search Intera SDK" title="Search Intera SDK [f]" accesskey="f" id="searchInput"/>
                            <button type="submit" name="button">Search</button>        </form>
                </div><!--/#rr_ActionWrap-->
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <div class="l-container">
        <!-- Content action buttons -->
                <ul class="m-cactions">
            <li><a href="#">More</a>
                <ul>
                <li id="ca-viewsource"><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>                </ul>
            </li>

            <li id="ca-nstab-main" class="selected"><a href="http://sdk.rethinkrobotics.com/intera/Interaction_Control_Tutorial" title="View the content page [c]" accesskey="c">Page</a></li>        </ul>
        
        <h1 lang="en">
            <span dir="auto">Interaction Control Tutorial</span>
        </h1>
    </div><!--/.l-container-->
</div><!--/#firstHeadingDiv-->
<!-- end fragment firstHeader -->
<div class="bg-wrapper clearfix">
    <!-- start fragment sidebar -->
    <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
        <ul id="nav">
                  <li>
          <span>Installation &amp; Configuration</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Robot-Setup"><a href="http://sdk.rethinkrobotics.com/intera/Robot_Setup">Robot Setup</a></li>                                    <li id="n-Workstation-Setup"><a href="http://sdk.rethinkrobotics.com/intera/Workstation_Setup">Workstation Setup</a></li>                                    <li id="n-Networking"><a href="http://sdk.rethinkrobotics.com/intera/Networking">Networking</a></li>                                    <li id="n-Hello-Robot.21"><a href="http://sdk.rethinkrobotics.com/intera/Hello_Robot">Hello Robot!</a></li>                                    <li id="n-Hardware-Components"><a href="http://sdk.rethinkrobotics.com/intera/Hardware_Components">Hardware Components</a></li>                                    <li id="n-SDK-Workstation-Requirements"><a href="http://sdk.rethinkrobotics.com/intera/System_requirements">SDK Workstation Requirements</a></li>                                    <li id="n-Robot-Workspace-Guidelines"><a href="http://sdk.rethinkrobotics.com/intera/Workspace_Guidelines">Robot Workspace Guidelines</a></li>                                    <li id="n-Field-Service-Menu-.28FSM.29"><a href="http://sdk.rethinkrobotics.com/intera/Field_Service_Menu_(FSM)">Field Service Menu (FSM)</a></li>                                    <li id="n-Time-and-NTP"><a href="http://sdk.rethinkrobotics.com/intera/Time_and_NTP">Time and NTP</a></li>                                    <li id="n-SDK-Software-Update"><a href="http://sdk.rethinkrobotics.com/intera/Software_Update">SDK Software Update</a></li>                                    <li id="n-SDK-Release-Notes"><a href="http://sdk.rethinkrobotics.com/intera/Release-Changes">SDK Release Notes</a></li>                            </ul>
                </li>
          <li>
          <span>Concepts</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-SDK-Robot-Workstation-Overview"><a href="http://sdk.rethinkrobotics.com/intera/SDK_System_Overview">SDK Robot-Workstation Overview</a></li>                                    <li id="n-E-STOP-and-Enable-Robot"><a href="http://sdk.rethinkrobotics.com/intera/E-STOP_and_Enable_Robot">E-STOP and Enable Robot</a></li>                                    <li id="n-Arm-Calibration"><a href="http://sdk.rethinkrobotics.com/intera/Arm_Calibration">Arm Calibration</a></li>                                    <li id="n-Arm-Control-Systems"><a href="http://sdk.rethinkrobotics.com/intera/Arm_Control_Systems">Arm Control Systems</a></li>                                    <li id="n-API-Reference"><a href="http://sdk.rethinkrobotics.com/intera/API_Reference">API Reference</a></li>                            </ul>
                </li>
          <li>
          <span>Tutorials</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Interaction-Control-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/Interaction_Control_Tutorial">Interaction Control Tutorial</a></li>                                    <li id="n-Motion-Interface-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/Motion_Interface_Tutorial">Motion Interface Tutorial</a></li>                                    <li id="n-MoveIt.21-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/MoveIt_Tutorial">MoveIt! Tutorial</a></li>                                    <li id="n-Gazebo-Tutorial"><a href="http://sdk.rethinkrobotics.com/intera/Gazebo_Tutorial">Gazebo Tutorial</a></li>                            </ul>
                </li>
          <li>
          <span>Code Examples</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Running-Examples-Overview"><a href="http://sdk.rethinkrobotics.com/intera/Running_Examples_Overview">Running Examples Overview</a></li>                                    <li id="n-Camera-Image-Display-Example"><a href="http://sdk.rethinkrobotics.com/intera/Camera_Image_Display_Example">Camera Image Display Example</a></li>                                    <li id="n-Gripper-Example"><a href="http://sdk.rethinkrobotics.com/intera/Gripper_Example">Gripper Example</a></li>                                    <li id="n-Gripper-Cuff-Control-Example"><a href="http://sdk.rethinkrobotics.com/intera/Gripper_Cuff_Control_Example">Gripper Cuff Control Example</a></li>                                    <li id="n-Head-Display-Image-Example"><a href="http://sdk.rethinkrobotics.com/intera/Head_Display_Image_Example">Head Display Image Example</a></li>                                    <li id="n-Head-Movement-Example"><a href="http://sdk.rethinkrobotics.com/intera/Head_Movement_Example">Head Movement Example</a></li>                                    <li id="n-Lights-Blinking-Example"><a href="http://sdk.rethinkrobotics.com/intera/Lights_Blinking_Example">Lights Blinking Example</a></li>                                    <li id="n-IK-Service-Example"><a href="http://sdk.rethinkrobotics.com/intera/IK_Service_Example">IK Service Example</a></li>                                    <li id="n-Joint-Position-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Position_Example">Joint Position Example</a></li>                                    <li id="n-Joint-Position-Waypoint-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Position_Waypoint_Example">Joint Position Waypoint Example</a></li>                                    <li id="n-Joint-Torque-Springs-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Torque_Springs_Example">Joint Torque Springs Example</a></li>                                    <li id="n-Joint-Trajectory-Playback-Example"><a href="http://sdk.rethinkrobotics.com/intera/Joint_Trajectory_Playback_Example">Joint Trajectory Playback Example</a></li>                                    <li id="n-Set-Interaction-Options-Example"><a href="http://sdk.rethinkrobotics.com/intera/Set_Interaction_Options_Example">Set Interaction Options Example</a></li>                                    <li id="n-Motion-Interface-Go-To-Joint-Angles"><a href="http://sdk.rethinkrobotics.com/intera/Go_To_Joint_Angles_Example">Motion Interface Go-To-Joint Angles</a></li>                            </ul>
                </li>
          <li>
          <span>Support</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-User-Forum"><a href="http://sdk.rethinkrobotics.com/intera/User_Forum">User Forum</a></li>                            </ul>
                </li>
          <li>
          <span>Tools</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-All-Pages"><a href="http://sdk.rethinkrobotics.com/intera/Special:AllPages">All Pages</a></li>                                    <li id="n-Print"><a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;printable=yes" rel="nofollow">Print</a></li>                                    <li id="n-Upload-File"><a href="http://sdk.rethinkrobotics.com/intera/Special:Upload">Upload File</a></li>                                    <li id="n-What-Links-Here.3F"><a href="http://sdk.rethinkrobotics.com/intera/Special:WhatLinksHere">What Links Here?</a></li>                            </ul>
                </li>
            </ul> <!-- /nav -->
    </div> <!-- /side -->
<!-- end fragment sidebar -->
    <div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
        
        <div id="bodyContent" class="mw-body">

            <div id="contentSub">
                <div class="mw-revision"><div id="mw-revision-info">Revision as of 16:52, 1 December 2017 by <a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=User:Forrest-rethink&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Forrest-rethink (page does not exist)"><bdi>Forrest-rethink</bdi></a> <span class="mw-usertoollinks">(<a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=User_talk:Forrest-rethink&amp;action=edit&amp;redlink=1" class="new mw-usertoollinks-talk" title="User talk:Forrest-rethink (page does not exist)">talk</a> | <a href="http://sdk.rethinkrobotics.com/intera/Special:Contributions/Forrest-rethink" class="mw-usertoollinks-contribs" title="Special:Contributions/Forrest-rethink">contribs</a>)</span> <span class="comment">(<a href="#Constrained_Zero-G_Examples">→</a>‎<span dir="auto"><span class="autocomment">Constrained Zero-G Examples</span></span>)</span></div><div id="mw-revision-nav">(<a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;diff=prev&amp;oldid=1448" title="Interaction Control Tutorial">diff</a>) <a href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;direction=prev&amp;oldid=1448" title="Interaction Control Tutorial">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>            </div>

            
            
                            <div id="jump-to-nav" class="mw-jump">
                    Jump to:                    <a href="#column-one">navigation</a>
                    ,                     <a href="#searchInput">search</a>
                </div>
            
            <!-- start content -->
            <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div class="title-block">
<p><span style="font-size:120%;"><b>This tutorial describes how to create different interaction control behaviors using example scripts.</b></span>
</p>
</div>
<div class="toclimit-3"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Impedance.2FForce_Control_Examples"><span class="tocnumber">1</span> <span class="toctext">Impedance/Force Control Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Default_Interaction_Control_Motion"><span class="tocnumber">1.1</span> <span class="toctext">Default Interaction Control Motion</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Z-axis_Compliance_in_the_End_Effector_Frame"><span class="tocnumber">1.2</span> <span class="toctext">Z-axis Compliance in the End Effector Frame</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Z-axis_Force_in_the_End_Effector_Frame"><span class="tocnumber">1.3</span> <span class="toctext">Z-axis Force in the End Effector Frame</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Z-axis_Impedance_Control_with_Force_Limits_in_the_End_Effector_Frame"><span class="tocnumber">1.4</span> <span class="toctext">Z-axis Impedance Control with Force Limits in the End Effector Frame</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Constrained_Zero-G_Examples"><span class="tocnumber">2</span> <span class="toctext">Constrained Zero-G Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Constrained_Zero-G_in_Position"><span class="tocnumber">2.1</span> <span class="toctext">Constrained Zero-G in Position</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Constrained_Zero-G_in_Position_along_Base_Frame_Z-axis"><span class="tocnumber">2.2</span> <span class="toctext">Constrained Zero-G in Position along Base Frame Z-axis</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Constrained_Zero-G_in_Orientation"><span class="tocnumber">2.3</span> <span class="toctext">Constrained Zero-G in Orientation</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Constrained_Zero-G_in_Orientation_about_Base_Frame_X-axis"><span class="tocnumber">2.4</span> <span class="toctext">Constrained Zero-G in Orientation about Base Frame X-axis</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Constrained_Zero-G_in_Horizontal_Plane_.28XY.29"><span class="tocnumber">2.5</span> <span class="toctext">Constrained Zero-G in Horizontal Plane (XY)</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Constrained_Zero-G_in_the_Nullspace"><span class="tocnumber">2.6</span> <span class="toctext">Constrained Zero-G in the Nullspace</span></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="content-block">
<h1><span id="Impedance/Force_Control_Examples"></span><span class="mw-headline" id="Impedance.2FForce_Control_Examples">Impedance/Force Control Examples</span></h1>
<p><b> New in Intera SDK 5.2! </b>
</p><p><a rel="nofollow" class="external text" href="http://sdk.rethinkrobotics.com/intera/Arm_Control_Systems#Interaction_Control_Mode">Interaction controller in intera</a> enables impedance or force control at the endpoint of the arm. The following tutorial demonstrates using example scripts to create different interaction control behaviors. 
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:302px;"><a href="http://sdk.rethinkrobotics.com/intera/File:SawyerComplianceAlongZ_small.gif" class="image"><img alt="" src="http://sdk.rethinkrobotics.com/intera/a/images/6/60/SawyerComplianceAlongZ_small.gif" width="300" height="300" class="thumbimage" /></a>  <div class="thumbcaption">An impedance control example with low stiffness along vertical direction.</div></div></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Default_Interaction_Control_Motion">Default Interaction Control Motion</span></h2>
<p>The default interaction control mode performs impedance control at the endpoint with maximum stiffness in all 6 directions. The following command uses <a rel="nofollow" class="external text" href="https://github.com/RethinkRobotics/intera_sdk/blob/development/intera_examples/scripts/go_to_joint_angles_in_contact.py">go_to_joint_angles_in_contact.py</a> script to move the arm from the current configuration to a specified configuration with the default interaction control behavior. A trajectory message along with interaction parameters is sent to Motion Controller. Note that without any extra arguments nullspace stiffness values, default values are used. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples go_to_joint_angles_in_contact.py -q <span class="m">0</span> -0.8 <span class="m">0</span> <span class="m">1</span>.6 <span class="m">0</span> <span class="m">0</span>.8 <span class="m">0</span>
</pre></div>
<p><code>-q 0 -0.8 0 1.6 0 0.8 0</code> specifies the target arm joint angles. More arguments can be used to set other options (speed, interaction parameters, and etc.), which can be found by using <code>-h</code> argument for the script.
<br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Z-axis_Compliance_in_the_End_Effector_Frame">Z-axis Compliance in the End Effector Frame</span></h2>
<p>In impedance control, a desired stiffness value can be specified for each of 6 directions. The following command demonstrates having a low stiffness (i.e., more compliance) only along z-axis of end effector (TCP) frame.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples set_interaction_options.py -m <span class="m">1</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> -k <span class="m">1300</span> <span class="m">1300</span> <span class="m">500</span> <span class="m">30</span> <span class="m">30</span> <span class="m">30</span> -ef -kn <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>
</pre></div>
<p><code>-m 1 1 0 1 1 1</code> and <code>-k 1300 1300 500 30 30 30 </code> set the direction along z-axis to have a specified stiffness of 500 while maximum stiffness values will be computed for the rest of directions. <code>-ef</code> sets end effector frame to be the reference frame for impedance control. <code>-kn 0 0 0 0 0 0 0</code> sets the nullspace stiffness to zero. 
<br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Z-axis_Force_in_the_End_Effector_Frame">Z-axis Force in the End Effector Frame</span></h2>
<p>Force control is usually performed only along a single direction. The following command demonstrates how to apply force only along the z-axis of end effector frame using the <a rel="nofollow" class="external text" href="https://github.com/RethinkRobotics/intera_sdk/blob/development/intera_examples/scripts/set_interaction_options.py">set_interaction_options.py</a> script. This script sends a Interaction Control command directly to the realtime loop; this sets the arm into interaction control mode but does not command the arm to move. The endpoint remains in impedance control mode with maximum stiffness for the rest of directions. The nullspace stiffness is set to zero in this example.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples set_interaction_options.py -md <span class="m">1</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> -ef -f <span class="m">0</span> <span class="m">0</span> <span class="m">30</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> -kn <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>
</pre></div>
<p><code>-md 1 1 2 1 1 1</code> and <code>-ef</code> set the translational direction of end effector's z-axis to force control mode. <code>-f 0 0 30 0 0 0</code> sets the force command along z-axis to be 30 Newtons. <code>-kn 0 0 0 0 0 0 0</code> sets the nullspace stiffness to zero. 
<br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Z-axis_Impedance_Control_with_Force_Limits_in_the_End_Effector_Frame">Z-axis Impedance Control with Force Limits in the End Effector Frame</span></h2>
<p>As a hybrid mode between impedance and force mode, there is Impedance Control with Force Limit mode. The following command demonstrates setting a force limit along the end effector's z-axis during impedance control. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples set_interaction_options.py -md <span class="m">1</span> <span class="m">1</span> <span class="m">3</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> -ef -f <span class="m">0</span> <span class="m">0</span> <span class="m">30</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> -kn <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>
</pre></div>
<p><code>-md 1 1 3 1 1 1</code> and <code>-ef</code> set the translational direction along z-axis of end effector frame to be in impedance with force limit mode. <code>-f 0 0 30 0 0 0</code> sets the force limit along the z-axis to be 30 Newtons. <code>-kn 0 0 0 0 0 0 0</code> sets the nullspace stiffness to zero. 
<br />
</p>
</div>
<div class="content-block">
<h1><span class="mw-headline" id="Constrained_Zero-G_Examples">Constrained Zero-G Examples</span></h1>
<p>Regular zero-g mode of Sawyer can be interpreted as having zero stiffness at the endpoint and in the nullspace allowing the endpoint and nullspace free movement in all directions. Constrained zero-g mode only sets part of the stiffness values set to zero. In this mode, the movement about directions with non-zero stiffness values is constrained while the arm is free to move in the directions with zero stiffness. The following examples demonstrate how to use <a rel="nofollow" class="external text" href="https://github.com/RethinkRobotics/intera_sdk/blob/development/intera_examples/scripts/constrained_zeroG.py">constrained_zeroG.py</a> script to generate different constrained zero-G behaviors. Note that the script sets the nullspace stiffness values to default values for maintaining the elbow position, by default.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:302px;"><a href="http://sdk.rethinkrobotics.com/intera/File:SawyerConstrainedZeroG_orientation_small.gif" class="image"><img alt="" src="http://sdk.rethinkrobotics.com/intera/a/images/7/78/SawyerConstrainedZeroG_orientation_small.gif" width="300" height="300" class="thumbimage" /></a>  <div class="thumbcaption">A constrained zero-G example with free orientation.</div></div></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Constrained_Zero-G_in_Position">Constrained Zero-G in Position</span></h2>
<p>The following command sets the endpoint to move freely only in the translational directions. In the rest of the directions (i.e., rotational directions), the endpoint remains in impedance control with maximum stiffness. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples constrained_zeroG.py -p
</pre></div>
<p><code>-p</code> sets the stiffness gains for all three translational directions to 0.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Constrained_Zero-G_in_Position_along_Base_Frame_Z-axis">Constrained Zero-G in Position along Base Frame Z-axis</span></h2>
<p>The following command sets the endpoint to move freely only along z-axis of the base frame. In the rest of the directions, the endpoint remains in impedance control with maximum stiffness. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples constrained_zeroG.py -pz
</pre></div>
<p><code>-pz</code> sets the stiffness gain for the translational direction along z-axis to 0.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Constrained_Zero-G_in_Orientation">Constrained Zero-G in Orientation</span></h2>
<p>The following command sets the endpoint to move freely only about the rotational directions. In the rest of the directions (i.e., translational directions), the endpoint remains in impedance control with maximum stiffness. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples constrained_zeroG.py -o
</pre></div>
<p><code>-o</code> sets the stiffness gains for all three rotational directions to 0.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Constrained_Zero-G_in_Orientation_about_Base_Frame_X-axis">Constrained Zero-G in Orientation about Base Frame X-axis</span></h2>
<p>The following command sets the endpoint to move freely only about x-axis of the base frame. In the rest of the directions, the endpoint remains in impedance control with maximum stiffness. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples constrained_zeroG.py -ox
</pre></div>
<p><code>-ox</code> sets the stiffness gain for the rotational direction about x-axis of base frame to 0.
</p><p><br />
</p>
<h2><span id="Constrained_Zero-G_in_Horizontal_Plane_(XY)"></span><span class="mw-headline" id="Constrained_Zero-G_in_Horizontal_Plane_.28XY.29">Constrained Zero-G in Horizontal Plane (XY)</span></h2>
<p>The following command sets the endpoint to move freely only on XY plane of the base frame (i.e., along both x and y axes). In the rest of the directions, the endpoint remains in impedance control with maximum stiffness. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples constrained_zeroG.py -ph
</pre></div>
<p><code>-ph</code> sets the stiffness gain for the horizontal directions (x and y axes) to be 0. Alternatively, <code>-x -y</code> can be used. 
</p><p><br />
</p>
<h2><span class="mw-headline" id="Constrained_Zero-G_in_the_Nullspace">Constrained Zero-G in the Nullspace</span></h2>
<p>The following command sets the arm to move freely only in the nullspace while the endpoint remains in impedance control with maximum stiffness. 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples constrained_zeroG.py -ns
</pre></div>
<p><code>-ns</code> sets all of the nullspace stiffness gains to 0.
</p><p><br />
</p>
</div>

<!-- 
NewPP limit report
Cached time: 20191018041343
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.050 seconds
Real time usage: 1.485 seconds
Preprocessor visited node count: 144/1000000
Preprocessor generated node count: 302/1000000
Post‐expand include size: 37/2097152 bytes
Template argument size: 1/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 3446/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.493      1 Template:TOClimit
100.00%    0.493      1 -total
-->
</div>
<!-- Saved in parser cache with key interasdk:pcache:idhash:190-0!canonical and timestamp 20191018041341 and revision id 1448
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;oldid=1448">http://sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&amp;oldid=1448</a>"</div>

            <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>            <!-- end content -->

                        <div class="visualClear"></div>
        </div><!--/#bodyContent-->
    </div> <!-- /mainContent -->
</div><!--/.bg-wrapper
<!-- end fragment mainContent --></div><!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->        <div id="footer" role="contentinfo">
                <div id="f-poweredbyico">
                            <a href="http://www.mediawiki.org/"><img src="http://sdk.rethinkrobotics.com/intera/a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/intera/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /intera/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>                    </div>
            <ul id="f-list">
                            <li id="copywrite_notice">&copy; 2019 Rethink Robotics. All rights reserved.</li>
                            <li id="special_pages"><a href="http://sdk.rethinkrobotics.com/intera/⧼specialPagePage⧽" title="⧼specialPagePage⧽">Special page</a></li>
                            <li id="privacy"><a href="http://sdk.rethinkrobotics.com/intera/Intera_SDK:Privacy_policy" title="Intera SDK:Privacy policy">Privacy policy</a></li>
                            <li id="about"><a href="http://sdk.rethinkrobotics.com/intera/Intera_SDK:About" title="Intera SDK:About">About Intera SDK</a></li>
                            <li id="disclaimer"><a href="http://sdk.rethinkrobotics.com/intera/Intera_SDK:General_disclaimer" title="Intera SDK:General disclaimer">Disclaimers</a></li>
                    </ul><!--/#f-list-->
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.050","walltime":"1.485","ppvisitednodes":{"value":144,"limit":1000000},"ppgeneratednodes":{"value":302,"limit":1000000},"postexpandincludesize":{"value":37,"limit":2097152},"templateargumentsize":{"value":1,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":3446,"limit":5000000},"timingprofile":["100.00%    0.493      1 Template:TOClimit","100.00%    0.493      1 -total"]},"cachereport":{"timestamp":"20191018041343","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":43});});</script></body>
<!-- Mirrored from sdk.rethinkrobotics.com/intera/a/index.php?title=Interaction_Control_Tutorial&oldid=1448 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 18 Oct 2019 05:15:37 GMT -->
</html>