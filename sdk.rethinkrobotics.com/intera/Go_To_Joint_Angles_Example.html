<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from sdk.rethinkrobotics.com/intera/Go_To_Joint_Angles_Example by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 18 Oct 2019 05:04:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Go To Joint Angles Example - Intera SDK</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Go_To_Joint_Angles_Example","wgTitle":"Go To Joint Angles Example","wgCurRevisionId":1462,"wgRevisionId":1462,"wgArticleId":203,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Go_To_Joint_Angles_Example","wgRelevantArticleId":203,"wgRequestId":"ab929fc5fa29035aee665c31","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.cavendishrr":"ready"});mw.loader.implement("user.tokens@09sx7ae",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","cavendishrr.js","app.js"]);});</script>
<link rel="stylesheet" href="a/load8c61.css?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.cavendishrr&amp;only=styles&amp;skin=cavendishrr"/>
<script async="" src="a/loada191.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishrr"></script>
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,300italic,400,500,500italic,700|Roboto+Condensed:300,700|Open+Sans:300"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="a/load8ac3.css?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishrr"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<link rel="shortcut icon" href="../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="a/opensearch_desc.php" title="Intera SDK (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="a/api-result251f.xml?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Intera SDK Atom feed" href="a/feeda295.xml?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/intera/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=CavendishRR&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Go_To_Joint_Angles_Example rootpage-Go_To_Joint_Angles_Example skin-cavendishrr action-view"><div id="container"><!-- start fragment header -->
    <div id="header" class="noprint">
            <a name="top" id="contentTop"></a>

            <!-- Logo + site name -->
            <h1>
                <a href="Main_Page.html" style="text-indent: 2em; width: 123px; height: 69px; background: transparent url(a/skins/CavendishRR/styles/images/header_logo.png) no-repeat scroll;" title="Visit the main page">&nbsp;</a>            </h1>

            <div id="rr_ActionWrap">
                <!-- Account action links -->
                <div id="accountActions"><a href="http://sdk-accounts.rethinkrobotics.com/public/NewUser">Create account</a><a href="a/index63fe.html?title=Special:UserLogin&amp;returnto=Go+To+Joint+Angles+Example">Log in</a></div>                <!-- Search box -->
                        <form action="http://sdk.rethinkrobotics.com/intera/a/index.php" id="searchform">
            <label for="searchInput">Search</label>
            <input type='hidden' name="title" value="Special:Search"/>
            <input type="search" name="search" placeholder="Search Intera SDK" title="Search Intera SDK [f]" accesskey="f" id="searchInput"/>
                            <button type="submit" name="button">Search</button>        </form>
                </div><!--/#rr_ActionWrap-->
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <div class="l-container">
        <!-- Content action buttons -->
                <ul class="m-cactions">
            <li><a href="#">More</a>
                <ul>
                <li id="ca-viewsource"><a href="a/index3d99.html?title=Go_To_Joint_Angles_Example&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="a/indexc454.html?title=Go_To_Joint_Angles_Example&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>                </ul>
            </li>

            <li id="ca-nstab-main" class="selected"><a href="Go_To_Joint_Angles_Example.html" title="View the content page [c]" accesskey="c">Page</a></li>        </ul>
        
        <h1 lang="en">
            <span dir="auto">Go To Joint Angles Example</span>
        </h1>
    </div><!--/.l-container-->
</div><!--/#firstHeadingDiv-->
<!-- end fragment firstHeader -->
<div class="bg-wrapper clearfix">
    <!-- start fragment sidebar -->
    <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
        <ul id="nav">
                  <li>
          <span>Installation &amp; Configuration</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Robot-Setup"><a href="Robot_Setup.html">Robot Setup</a></li>                                    <li id="n-Workstation-Setup"><a href="Workstation_Setup.html">Workstation Setup</a></li>                                    <li id="n-Networking"><a href="Networking.html">Networking</a></li>                                    <li id="n-Hello-Robot.21"><a href="Hello_Robot.html">Hello Robot!</a></li>                                    <li id="n-Hardware-Components"><a href="Hardware_Components.html">Hardware Components</a></li>                                    <li id="n-SDK-Workstation-Requirements"><a href="System_requirements.html">SDK Workstation Requirements</a></li>                                    <li id="n-Robot-Workspace-Guidelines"><a href="Workspace_Guidelines.html">Robot Workspace Guidelines</a></li>                                    <li id="n-Field-Service-Menu-.28FSM.29"><a href="Field_Service_Menu_(FSM).html">Field Service Menu (FSM)</a></li>                                    <li id="n-Time-and-NTP"><a href="Time_and_NTP.html">Time and NTP</a></li>                                    <li id="n-SDK-Software-Update"><a href="Software_Update.html">SDK Software Update</a></li>                                    <li id="n-SDK-Release-Notes"><a href="Release-Changes.html">SDK Release Notes</a></li>                            </ul>
                </li>
          <li>
          <span>Concepts</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-SDK-Robot-Workstation-Overview"><a href="SDK_System_Overview.html">SDK Robot-Workstation Overview</a></li>                                    <li id="n-E-STOP-and-Enable-Robot"><a href="E-STOP_and_Enable_Robot.html">E-STOP and Enable Robot</a></li>                                    <li id="n-Arm-Calibration"><a href="Arm_Calibration.html">Arm Calibration</a></li>                                    <li id="n-Arm-Control-Systems"><a href="Arm_Control_Systems.html">Arm Control Systems</a></li>                                    <li id="n-API-Reference"><a href="API_Reference.html">API Reference</a></li>                            </ul>
                </li>
          <li>
          <span>Tutorials</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Interaction-Control-Tutorial"><a href="Interaction_Control_Tutorial.html">Interaction Control Tutorial</a></li>                                    <li id="n-Motion-Interface-Tutorial"><a href="Motion_Interface_Tutorial.html">Motion Interface Tutorial</a></li>                                    <li id="n-MoveIt.21-Tutorial"><a href="MoveIt_Tutorial.html">MoveIt! Tutorial</a></li>                                    <li id="n-Gazebo-Tutorial"><a href="Gazebo_Tutorial.html">Gazebo Tutorial</a></li>                            </ul>
                </li>
          <li>
          <span>Code Examples</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-Running-Examples-Overview"><a href="Running_Examples_Overview.html">Running Examples Overview</a></li>                                    <li id="n-Camera-Image-Display-Example"><a href="Camera_Image_Display_Example.html">Camera Image Display Example</a></li>                                    <li id="n-Gripper-Example"><a href="Gripper_Example.html">Gripper Example</a></li>                                    <li id="n-Gripper-Cuff-Control-Example"><a href="Gripper_Cuff_Control_Example.html">Gripper Cuff Control Example</a></li>                                    <li id="n-Head-Display-Image-Example"><a href="Head_Display_Image_Example.html">Head Display Image Example</a></li>                                    <li id="n-Head-Movement-Example"><a href="Head_Movement_Example.html">Head Movement Example</a></li>                                    <li id="n-Lights-Blinking-Example"><a href="Lights_Blinking_Example.html">Lights Blinking Example</a></li>                                    <li id="n-IK-Service-Example"><a href="IK_Service_Example.html">IK Service Example</a></li>                                    <li id="n-Joint-Position-Example"><a href="Joint_Position_Example.html">Joint Position Example</a></li>                                    <li id="n-Joint-Position-Waypoint-Example"><a href="Joint_Position_Waypoint_Example.html">Joint Position Waypoint Example</a></li>                                    <li id="n-Joint-Torque-Springs-Example"><a href="Joint_Torque_Springs_Example.html">Joint Torque Springs Example</a></li>                                    <li id="n-Joint-Trajectory-Playback-Example"><a href="Joint_Trajectory_Playback_Example.html">Joint Trajectory Playback Example</a></li>                                    <li id="n-Set-Interaction-Options-Example"><a href="Set_Interaction_Options_Example.html">Set Interaction Options Example</a></li>                                    <li id="n-Motion-Interface-Go-To-Joint-Angles"><a href="Go_To_Joint_Angles_Example.html">Motion Interface Go-To-Joint Angles</a></li>                            </ul>
                </li>
          <li>
          <span>Support</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-User-Forum"><a href="User_Forum.html">User Forum</a></li>                            </ul>
                </li>
          <li>
          <span>Tools</span>

                    <ul class="collapsible-collapsed">
                                    <li id="n-All-Pages"><a href="Special_AllPages.html">All Pages</a></li>                                    <li id="n-Print"><a href="a/indexaf1a.html?title=Go_To_Joint_Angles_Example&amp;printable=yes" rel="nofollow">Print</a></li>                                    <li id="n-Upload-File"><a href="Special_Upload.html">Upload File</a></li>                                    <li id="n-What-Links-Here.3F"><a href="Special_WhatLinksHere.html">What Links Here?</a></li>                            </ul>
                </li>
            </ul> <!-- /nav -->
    </div> <!-- /side -->
<!-- end fragment sidebar -->
    <div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
        
        <div id="bodyContent" class="mw-body">

            <div id="contentSub">
                            </div>

            
            
                            <div id="jump-to-nav" class="mw-jump">
                    Jump to:                    <a href="#column-one">navigation</a>
                    ,                     <a href="#searchInput">search</a>
                </div>
            
            <!-- start content -->
            <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div class="title-block">
<p><span style="font-size:120%;"><b>This example shows how to use the motion interface to move Sawyer's arm to a specific location in joint space.</b></span>
</p>
</div>
<div class="toclimit-2"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Arguments"><span class="tocnumber">3</span> <span class="toctext">Arguments</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Code_Walkthrough"><span class="tocnumber">4</span> <span class="toctext">Code Walkthrough</span></a></li>
</ul>
</div>
</div>
<div class="content-block">
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p><b>NEW functionality in the Intera 5.2 Update!</b>
</p><p>This example demonstrates how to create and send a simple trajectory to the motion interface, for a desired set of joint angles.
</p><p>If you would like to follow along with the actual source code for the example on GitHub, it can be found through <a rel="nofollow" class="external text" href="https://github.com/RethinkRobotics/intera_sdk/blob/master/intera_examples/scripts/go_to_joint_angles.py">this link</a>.
</p>
</div>
<div class="content-block">
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Running the script with no arguments will move the arm at a moderate speed to a default pose that is directly in front of the robot with the elbow up. Additional arguments can be specified to control the target location and motion parameters.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples go_to_joint_angles.py
</pre></div>
</div>
<div class="content-block">
<h2><span class="mw-headline" id="Arguments">Arguments</span></h2>
<p>Running the script with the <code>-h</code> argument will display the available arguments on the command line.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>$ rosrun intera_examples go_to_joint_angles.py -h
</pre></div>
<p>The result of this command is included below. The arguments let you control the target joint angles (<code>-q, --joint_angles</code>) as well as the peak speed (<code>-s, --speed_ratio</code>) and acceleration (<code>-a, --accel_ratio</code>) along the trajectory. Both the speed and acceleration are presented here in normalized units, where 1.0 corresponds to maximum speed (or acceleration) for each joint.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>usage: go_to_joint_angles.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-q JOINT_ANGLES <span class="o">[</span>JOINT_ANGLES ...<span class="o">]]</span>
                             <span class="o">[</span>-s SPEED_RATIO<span class="o">]</span> <span class="o">[</span>-a ACCEL_RATIO<span class="o">]</span>
                             <span class="o">[</span>--timeout TIMEOUT<span class="o">]</span>

    Move the robot arm to the specified configuration.
    Call using:
    $ rosrun intera_examples go_to_joint_angles.py  <span class="o">[</span>arguments: see below<span class="o">]</span>

    -q <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0
    --&gt; Go to joint pose: <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 using default settings

    -q <span class="m">0</span>.1 -0.2 <span class="m">0</span>.15 -0.05 -0.08 <span class="m">0</span>.14 -0.04 -s <span class="m">0</span>.1
    --&gt; Go to pose <span class="o">[</span>...<span class="o">]</span> with a speed ratio of <span class="m">0</span>.1

    -q -0.2 <span class="m">0</span>.1 <span class="m">0</span>.1 <span class="m">0</span>.2 -0.3 <span class="m">0</span>.2 <span class="m">0</span>.4 -s <span class="m">0</span>.9 -a <span class="m">0</span>.1
    --&gt; Go to pose <span class="o">[</span>...<span class="o">]</span> with a speed ratio of <span class="m">0</span>.9 and an accel ratio of <span class="m">0</span>.1


optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -q JOINT_ANGLES <span class="o">[</span>JOINT_ANGLES ...<span class="o">]</span>, --joint_angles JOINT_ANGLES <span class="o">[</span>JOINT_ANGLES ...<span class="o">]</span>
                        A list of joint angles, one <span class="k">for</span> each of the <span class="m">7</span> joints,
                        J0...J6
  -s SPEED_RATIO, --speed_ratio SPEED_RATIO
                        A value between <span class="m">0</span>.001 <span class="o">(</span>slow<span class="o">)</span> and <span class="m">1</span>.0 <span class="o">(</span>maximum joint
                        velocity<span class="o">)</span>
  -a ACCEL_RATIO, --accel_ratio ACCEL_RATIO
                        A value between <span class="m">0</span>.001 <span class="o">(</span>slow<span class="o">)</span> and <span class="m">1</span>.0 <span class="o">(</span>maximum joint
                        accel<span class="o">)</span>
  --timeout TIMEOUT     Max <span class="nb">time</span> in seconds to <span class="nb">complete</span> motion goal before
                        returning. None is interpreted as an infinite timeout.
</pre></div>
</div>
<div class="content-block">
<h2><span class="mw-headline" id="Code_Walkthrough">Code Walkthrough</span></h2>
<p>Now, let's break down the code.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="lineno">33 </span><span class="kn">import</span> <span class="nn">rospy</span>
<span class="lineno">34 </span><span class="kn">import</span> <span class="nn">argparse</span>
<span class="lineno">35 </span><span class="kn">from</span> <span class="nn">intera_motion_interface</span> <span class="kn">import</span> <span class="p">(</span>
<span class="lineno">36 </span>    <span class="n">MotionTrajectory</span><span class="p">,</span>
<span class="lineno">37 </span>    <span class="n">MotionWaypoint</span><span class="p">,</span>
<span class="lineno">38 </span>    <span class="n">MotionWaypointOptions</span>
<span class="lineno">39 </span><span class="p">)</span>
<span class="lineno">40 </span><span class="kn">from</span> <span class="nn">intera_interface</span> <span class="kn">import</span> <span class="n">Limb</span>
</pre></div>
<p>We start by importing all of the packages and classes that we will need to create and send a motion trajectory request. Note the new <code>intera_motion_interface</code> package.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="lineno">43 </span><span class="n">arg_fmt</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">RawDescriptionHelpFormatter</span>
<span class="lineno">44 </span><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">formatter_class</span><span class="o">=</span><span class="n">arg_fmt</span><span class="p">,</span>
<span class="lineno">45 </span>                                 <span class="n">description</span><span class="o">=</span><span class="n">main</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="lineno">46 </span><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="lineno">47 </span>    <span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--joint_angles&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
<span class="lineno">48 </span>    <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="lineno">49 </span>    <span class="n">help</span><span class="o">=</span><span class="s2">&quot;A list of joint angles, one for each of the 7 joints, J0...J6&quot;</span><span class="p">)</span>
<span class="lineno">50 </span><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="lineno">51 </span>    <span class="s2">&quot;-s&quot;</span><span class="p">,</span>  <span class="s2">&quot;--speed_ratio&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="lineno">52 </span>    <span class="n">help</span><span class="o">=</span><span class="s2">&quot;A value between 0.001 (slow) and 1.0 (maximum joint velocity)&quot;</span><span class="p">)</span>
<span class="lineno">53 </span><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="lineno">54 </span>    <span class="s2">&quot;-a&quot;</span><span class="p">,</span>  <span class="s2">&quot;--accel_ratio&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="lineno">55 </span>    <span class="n">help</span><span class="o">=</span><span class="s2">&quot;A value between 0.001 (slow) and 1.0 (maximum joint accel)&quot;</span><span class="p">)</span>
<span class="lineno">56 </span><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="lineno">57 </span>    <span class="s2">&quot;--timeout&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="lineno">58 </span>    <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Max time in seconds to complete motion goal before returning. None is interpreted as an infinite timeout.&quot;</span><span class="p">)</span>
<span class="lineno">59 </span><span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">rospy</span><span class="o">.</span><span class="n">myargv</span><span class="p">()[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
<p>This block of code uses the <code>arg_parse</code> package to parse the command-line arguments and convert them into python variables. It also does the work of setting a default value for each argument.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="lineno">69 </span><span class="n">rospy</span><span class="o">.</span><span class="n">init_node</span><span class="p">(</span><span class="s1">&#39;go_to_joint_angles_py&#39;</span><span class="p">)</span>
<span class="lineno">70 </span><span class="n">limb</span> <span class="o">=</span> <span class="n">Limb</span><span class="p">()</span>
<span class="lineno">71 </span><span class="n">traj</span> <span class="o">=</span> <span class="n">MotionTrajectory</span><span class="p">(</span><span class="n">limb</span> <span class="o">=</span> <span class="n">limb</span><span class="p">)</span>
</pre></div>
<p>Next we will initialize the ROS node and then create an empty <code>MotionTrajectory</code> object. Much of the remaining code will be dedicated to adding information to the motion trajectory to describe the desired motion.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="lineno">69 </span><span class="n">wpt_opts</span> <span class="o">=</span> <span class="n">MotionWaypointOptions</span><span class="p">(</span><span class="n">max_joint_speed_ratio</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">speed_ratio</span><span class="p">,</span>
<span class="lineno">70 </span>                                         <span class="n">max_joint_accel</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">accel_ratio</span><span class="p">)</span>
<span class="lineno">71 </span><span class="n">waypoint</span> <span class="o">=</span> <span class="n">MotionWaypoint</span><span class="p">(</span><span class="n">options</span> <span class="o">=</span> <span class="n">wpt_opts</span><span class="o">.</span><span class="n">to_msg</span><span class="p">(),</span> <span class="n">limb</span> <span class="o">=</span> <span class="n">limb</span><span class="p">)</span>
<span class="lineno">72 </span>
<span class="lineno">73 </span><span class="n">joint_angles</span> <span class="o">=</span> <span class="n">limb</span><span class="o">.</span><span class="n">joint_ordered_angles</span><span class="p">()</span>
<span class="lineno">74 </span>
<span class="lineno">75 </span><span class="n">waypoint</span><span class="o">.</span><span class="n">set_joint_angles</span><span class="p">(</span><span class="n">joint_angles</span> <span class="o">=</span> <span class="n">joint_angles</span><span class="p">)</span>
<span class="lineno">76 </span><span class="n">traj</span><span class="o">.</span><span class="n">append_waypoint</span><span class="p">(</span><span class="n">waypoint</span><span class="o">.</span><span class="n">to_msg</span><span class="p">())</span>
</pre></div>
<p>Here we set up the default waypoint options and then set up a motion waypoint that describes the current position of the arm. Note that we convert the waypoint to a message before sending it to the motion trajectory. This is not required, but it illustrates an important point: the <code>MotionWaypoint</code> class is not the same as a <code>'Waypoint.msg'</code>. The class can be used to create the waypoint message along with other helper functions. The <code>MotionTrajectory</code> will copy the data from the waypoint, so we can update the waypoint and use it to set the next position.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="lineno">81 </span><span class="n">waypoint</span><span class="o">.</span><span class="n">set_joint_angles</span><span class="p">(</span><span class="n">joint_angles</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">joint_angles</span><span class="p">)</span>
<span class="lineno">82 </span><span class="n">traj</span><span class="o">.</span><span class="n">append_waypoint</span><span class="p">(</span><span class="n">waypoint</span><span class="o">.</span><span class="n">to_msg</span><span class="p">())</span>
</pre></div>
<p>The first line of code here sets the joint angles in the waypoint, and the second line adds the updated waypoint data as a new waypoint for the trajectory. Now the motion trajectory has two waypoints: one at the current position and one at the target position. (Strictly speaking, you not need to include the current arm position as it will be appended to the trajectory by the Motion Controller.) In this case we used the default waypoint options for both waypoints, but in general you can have different options for each waypoint. Note that the waypoint options are applied to the trajectory segment prior to that waypoint.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="lineno">155 </span><span class="n">result</span> <span class="o">=</span> <span class="n">traj</span><span class="o">.</span><span class="n">send_trajectory</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
<span class="lineno">156 </span><span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="lineno">157 </span>    <span class="n">rospy</span><span class="o">.</span><span class="n">logerr</span><span class="p">(</span><span class="s1">&#39;Trajectory FAILED to send&#39;</span><span class="p">)</span>
<span class="lineno">158 </span>    <span class="k">return</span>
<span class="lineno">159 </span>
<span class="lineno">160 </span><span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">result</span><span class="p">:</span>
<span class="lineno">161 </span>    <span class="n">rospy</span><span class="o">.</span><span class="n">loginfo</span><span class="p">(</span><span class="s1">&#39;Motion controller successfully finished the trajectory!&#39;</span><span class="p">)</span>
<span class="lineno">162 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">163 </span>    <span class="n">rospy</span><span class="o">.</span><span class="n">logerr</span><span class="p">(</span><span class="s1">&#39;Motion controller failed to complete the trajectory with error </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="lineno">164 </span>                 <span class="n">result</span><span class="o">.</span><span class="n">errorId</span><span class="p">)</span>
</pre></div>
<p>This final block of code sends the trajectory to the motion controller and then waits for the results. The <code>MotionTrajectory</code> is not a <code>Trajectory.msg</code>: like the <code>MotionWaypoint</code>, it is a utility that enables the creation (and sending!) of trajectory messages.
</p>
</div>

<!-- 
NewPP limit report
Cached time: 20191018034718
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.049 seconds
Real time usage: 1.507 seconds
Preprocessor visited node count: 75/1000000
Preprocessor generated node count: 254/1000000
Post‐expand include size: 37/2097152 bytes
Template argument size: 1/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 14421/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.667      1 Template:TOClimit
100.00%    0.667      1 -total
-->
</div>
<!-- Saved in parser cache with key interasdk:pcache:idhash:203-0!canonical and timestamp 20191018034716 and revision id 1462
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="a/index0fc0.html?title=Go_To_Joint_Angles_Example&amp;oldid=1462">http://sdk.rethinkrobotics.com/intera/a/index.php?title=Go_To_Joint_Angles_Example&amp;oldid=1462</a>"</div>

            <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>            <!-- end content -->

                        <div class="visualClear"></div>
        </div><!--/#bodyContent-->
    </div> <!-- /mainContent -->
</div><!--/.bg-wrapper
<!-- end fragment mainContent --></div><!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->        <div id="footer" role="contentinfo">
                <div id="f-poweredbyico">
                            <a href="http://www.mediawiki.org/"><img src="a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/intera/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /intera/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>                    </div>
            <ul id="f-list">
                            <li id="copywrite_notice">&copy; 2019 Rethink Robotics. All rights reserved.</li>
                            <li id="special_pages"><a href="%e2%a7%bcspecialPagePage%e2%a7%bd.html" title="⧼specialPagePage⧽">Special page</a></li>
                            <li id="privacy"><a href="Intera_SDK_Privacy_policy.html" title="Intera SDK:Privacy policy">Privacy policy</a></li>
                            <li id="about"><a href="Intera_SDK_About.html" title="Intera SDK:About">About Intera SDK</a></li>
                            <li id="disclaimer"><a href="Intera_SDK_General_disclaimer.html" title="Intera SDK:General disclaimer">Disclaimers</a></li>
                    </ul><!--/#f-list-->
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.049","walltime":"1.507","ppvisitednodes":{"value":75,"limit":1000000},"ppgeneratednodes":{"value":254,"limit":1000000},"postexpandincludesize":{"value":37,"limit":2097152},"templateargumentsize":{"value":1,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":14421,"limit":5000000},"timingprofile":["100.00%    0.667      1 Template:TOClimit","100.00%    0.667      1 -total"]},"cachereport":{"timestamp":"20191018034718","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":71});});</script></body>
<!-- Mirrored from sdk.rethinkrobotics.com/intera/Go_To_Joint_Angles_Example by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 18 Oct 2019 05:04:25 GMT -->
</html>